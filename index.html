<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ø­Ø§Ø³Ø¨Ø© Ø¬Ø±Ø¹Ø§Øª Ø§Ù„ØªØ®Ø¯ÙŠØ±</title>
  <style>
    body { font-family: Arial, sans-serif; direction: rtl; text-align: center; background: #f4f4f9; }
    h1 { color: #0077b6; }
    .btn { padding: 15px 25px; margin: 10px; font-size: 18px; border: none; border-radius: 10px; background: #0096c7; color: white; cursor: pointer; }
    .btn:hover { background: #0077b6; }
    .section { display: none; padding: 20px; margin-top: 20px; border: 2px solid #ddd; border-radius: 10px; background: #fff; }
    #result { margin-top: 15px; font-size: 18px; color: darkgreen; }
    #side-effects { margin-top: 20px; padding: 10px; background: #ffe6e6; border-radius: 10px; }
  </style>
</head>
<body>
  <h1>ğŸš‘ Ù†Ø¸Ø§Ù… Ø­Ø³Ø§Ø¨ Ø¬Ø±Ø¹Ø§Øª Ø§Ù„ØªØ®Ø¯ÙŠØ±</h1>

  <button class="btn" onclick="showSection('dose')">ğŸ’‰ Ø­Ø³Ø§Ø¨ Ø¬Ø±Ø¹Ø§Øª Ø§Ù„ØªØ®Ø¯ÙŠØ±</button>
  <button class="btn" onclick="showSection('fluids')">ğŸ’§ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³ÙˆØ§Ø¦Ù„ ÙˆØ§Ù„Ø¯Ù…</button>
  <button class="btn" onclick="showSection('airway')">ğŸ˜· Ø§Ù„Ù„Ø§Ø±Ù†ØºÙˆØ³ÙƒÙˆØ¨ Ùˆ ETT</button>
  <button class="btn" onclick="showSection('admin')">ğŸ”‘ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>

  <!-- Ù‚Ø³Ù… Ø§Ù„Ø¬Ø±Ø¹Ø§Øª -->
  <div id="dose" class="section">
    <h2>ğŸ’‰ Ø­Ø³Ø§Ø¨ Ø¬Ø±Ø¹Ø§Øª Ø§Ù„ØªØ®Ø¯ÙŠØ±</h2>
    <label>ÙˆØ²Ù† Ø§Ù„Ù…Ø±ÙŠØ¶ (ÙƒØºÙ…): <input type="number" id="weight"></label><br><br>
    <label>Ø¹Ù…Ø± Ø§Ù„Ù…Ø±ÙŠØ¶: <input type="number" id="age"></label>
    <select id="ageUnit">
      <option value="days">Ø£ÙŠØ§Ù…</option>
      <option value="months">Ø£Ø´Ù‡Ø±</option>
      <option value="years" selected>Ø³Ù†ÙˆØ§Øª</option>
    </select><br><br>
    <button class="btn" onclick="calculateDose()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø±Ø¹Ø©</button>
    <div id="result"></div>
    <div id="side-effects"></div>
    <button class="btn" onclick="openChat('dose')">ğŸ’¬ Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</button>
  </div>

  <!-- Ù‚Ø³Ù… Ø§Ù„Ø³ÙˆØ§Ø¦Ù„ -->
  <div id="fluids" class="section">
    <h2>ğŸ’§ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³ÙˆØ§Ø¦Ù„ ÙˆØ§Ù„Ø¯Ù…</h2>
    <label>ÙˆØ²Ù† Ø§Ù„Ù…Ø±ÙŠØ¶ (ÙƒØºÙ…): <input type="number" id="fluidWeight"></label><br><br>
    <button class="btn" onclick="calculateFluids()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø³ÙˆØ§Ø¦Ù„</button>
    <div id="fluidsResult"></div>
    <button class="btn" onclick="openChat('fluids')">ğŸ’¬ Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</button>
  </div>

  <!-- Ù‚Ø³Ù… Ù…Ø¬Ø±Ù‰ Ø§Ù„Ù‡ÙˆØ§Ø¡ -->
  <div id="airway" class="section">
    <h2>ğŸ˜· Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„Ø§Ø±Ù†ØºÙˆØ³ÙƒÙˆØ¨ Ùˆ ETT</h2>
    <label>Ø¹Ù…Ø± Ø§Ù„Ù…Ø±ÙŠØ¶ (Ø³Ù†ÙˆØ§Øª): <input type="number" id="airwayAge"></label><br><br>
    <button class="btn" onclick="calculateAirway()">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø¬Ù…</button>
    <div id="airwayResult"></div>
    <button class="btn" onclick="openChat('airway')">ğŸ’¬ Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</button>
  </div>

  <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
  <div id="admin" class="section">
    <h2>ğŸ”‘ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: <input type="text" id="adminUser"></label><br><br>
    <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: <input type="password" id="adminPass"></label><br><br>
    <button class="btn" onclick="loginAdmin()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    <div id="adminPanel" style="display:none; margin-top:20px;">
      <h3>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
      <p>ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ù…Ù† backend Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
    </div>
  </div>

  <script src="sideEffects.js"></script>
  <script>
    function showSection(id) {
      document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
      document.getElementById(id).style.display = 'block';
    }

    function calculateDose() {
      const weight = parseFloat(document.getElementById("weight").value);
      const age = parseInt(document.getElementById("age").value);
      const unit = document.getElementById("ageUnit").value;
      if (!weight || !age) { alert("Ø£Ø¯Ø®Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙŠÙ…"); return; }

      let ageInYears = unit === "days" ? age / 365 : unit === "months" ? age / 12 : age;

      // Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
      let dose = weight * 2;  
      document.getElementById("result").innerText = `âœ… Ø§Ù„Ø¬Ø±Ø¹Ø© Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§: ${dose.toFixed(2)} Ù…Ù„Øº`;

      // Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
      if (sideEffects["Propofol"]) {
        let se = sideEffects["Propofol"];
        document.getElementById("side-effects").innerHTML = `<h3>âš ï¸ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©:</h3><ul>${se.map(s => `<li>${s}</li>`).join("")}</ul>`;
      }
    }

    function calculateFluids() {
      const w = parseFloat(document.getElementById("fluidWeight").value);
      if (!w) { alert("Ø£Ø¯Ø®Ù„ Ø§Ù„ÙˆØ²Ù†"); return; }
      let fluids = w * 100;  
      document.getElementById("fluidsResult").innerText = `ğŸ’§ Ø­Ø¬Ù… Ø§Ù„Ø³ÙˆØ§Ø¦Ù„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: ${fluids} Ù…Ù„`;
    }

    function calculateAirway() {
      const age = parseInt(document.getElementById("airwayAge").value);
      if (!age) { alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ù…Ø±"); return; }
      let ett = Math.floor((age / 4) + 4);
      document.getElementById("airwayResult").innerText = `ğŸ˜· Ø­Ø¬Ù… Ø£Ù†Ø¨ÙˆØ¨ ETT Ø§Ù„Ù…Ù†Ø§Ø³Ø¨: ${ett} Ù…Ù…`;
    }

    function loginAdmin() {
      const user = document.getElementById("adminUser").value;
      const pass = document.getElementById("adminPass").value;
      if (user === "admin" && pass === "mustafa@2006#2") {
        document.getElementById("adminPanel").style.display = "block";
      } else {
        alert("âŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©");
      }
    }

    function openChat(section) {
      alert(`ÙØªØ­ Ø¯Ø±Ø¯Ø´Ø© AI Ù„Ù‚Ø³Ù…: ${section}`);
      // Ø±Ø¨Ø· Dialogflow Ø£Ùˆ Ø£ÙŠ AI Ù‡Ù†Ø§
    }
  </script>
</body>
</html>
